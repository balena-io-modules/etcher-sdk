# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 2.0.20 - 2020-03-09

* Lazy-load crc [Pagan Gazzard]
* Lazy-load mountutils [Pagan Gazzard]
* Lazy-load xxhash [Pagan Gazzard]
* Lazy-load node-raspberrypi-usbboot [Pagan Gazzard]

## 2.0.19 - 2020-03-09

* Update and typedoc / typedoc-plugin-markdown [Pagan Gazzard]

## 2.0.18 - 2020-03-06

* Use resin-lint for automatic lint fixing instead of prettier [Pagan Gazzard]

## 2.0.17 - 2020-02-05

* Update generated docs [Alexis Svinartchouk]
* Update resin-lint to ^3.2.0 [Alexis Svinartchouk]
* Don't throw in trimPartitions when can't list the partitions [Alexis Svinartchouk]

## 2.0.16 - 2020-01-13

* Always use node adapter (not xhr) for axios [Alexis Svinartchouk]
* Update generated docs [Alexis Svinartchouk]

## 2.0.15 - 2019-09-23

* Update generated docs [Alexis Svinartchouk]
* Update resin-lint [Alexis Svinartchouk]
* Update outdent to ^0.7.0 [Alexis Svinartchouk]

## 2.0.14 - 2019-09-06

* Formatting: unblock linter as it complains about formatting [Gergely Imreh]
* Dependencies: use upstream xxhash again, now that Node12 support is merged [Gergely Imreh]

## 2.0.13 - 2019-05-24

* Update dependencies for Node 12 support [Gergely Imreh]

## 2.0.12 - 2019-05-24

* Remove local file paths from docs [Alexis Svinartchouk]

## 2.0.11 - 2019-05-22

* Change remote url resin-io-modules -> balena-io-modules [Alexis Svinartchouk]

## 2.0.10 - 2019-05-13

* Add typedoc generated README [Alexis Svinartchouk]

## 2.0.9 - 2019-05-10

* ConfiguredSource.disk.recordReads set to false after configuration & trimming [Alexis Svinartchouk]

## 2.0.8 - 2019-05-10

* Add raspberry pi zero model name [Alexis Svinartchouk]

## 2.0.7 - 2019-05-09

* Win32: fix running diskpart when the tmp file path constains spaces [Alexis Svinartchouk]

## 2.0.6 - 2019-05-06

* Add CODEOWNERS file [Gergely Imreh]

## 2.0.5 - 2019-04-30

* Fix crc32 digest by padding it to always have 8 hex digits [Alexis Svinartchouk]

## 2.0.4 - 2019-04-30

* Fix progress in multi-write for gzipped sources [Alexis Svinartchouk]

## 2.0.3 - 2019-04-29

* Fix SparseFilterStream not calculating last block's checksum [Alexis Svinartchouk]

## 2.0.2 - 2019-04-29

* Fix off-by one error when computing size of block in bmap [David Lechner]
* Use proper bmap file for tests [David Lechner]

## 2.0.1 - 2019-04-18

* Merge adjacent blocks in DmgSource.getBlocks() [Alexis Svinartchouk]

## 2.0.0 - 2019-04-18

* Rework sparse streams, verify DMG images [Alexis Svinartchouk]

## 1.3.14 - 2019-04-10

* Add usbboot example [Alexis Svinartchouk]

## 1.3.13 - 2019-04-10

* Update blockmap to ^4.0.0 [Alexis Svinartchouk]

## 1.3.12 - 2019-03-21

* Fix examples [Alexis Svinartchouk]

## 1.3.11 - 2019-03-20

* Usbboot: Add "Linux File-Stor Gadget" to the description list [Juan Cruz Viotti]

## 1.3.10 - 2019-03-20

* Fix diskpart error message creation [Alexis Svinartchouk]

## 1.3.9 - 2019-03-20

* Upgrade node-raspberrypi-usbboot to v0.2.3 [Juan Cruz Viotti]

## 1.3.8 - 2019-03-20

* DriverlessDeviceAdapter only lists usbboot capable devices [Alexis Svinartchouk]

## 1.3.7 - 2019-03-20

* Node-raspberrypi-usbboot: Upgrade to v0.2.2 [Juan Cruz Viotti]

## 1.3.6 - 2019-03-20

* Update node-raspberrypi-usbboot to ^0.2.1 [Alexis Svinartchouk]

## 1.3.5 - 2019-03-19

* Update drivelist to ^8.0.4 [Alexis Svinartchouk]

## 1.3.4 - 2019-03-18

* Make UsbbootDrive.usbDevice public again [Alexis Svinartchouk]

## 1.3.3 - 2019-03-18

* Update drivelist to ^8.0.3 [Alexis Svinartchouk]

## 1.3.2 - 2019-03-13

* Add noUnusedLocals and noUnusedParameters to tsconfig.json [Alexis Svinartchouk]
* Update resin-lint to ^3.0.1 [Alexis Svinartchouk]

## 1.3.1 - 2019-03-08

* Test cases when no disk image is found in zip archives. [Alexis Svinartchouk]
* Autodrain does not emit finish as it never calls end(), the more appropriate event is end [Theodor Gherzan]

## 1.3.0 - 2019-03-05

* SingleUseStreamSource class and tests [Alexis Svinartchouk]
* Configurable filename matching function for zip sources [Alexis Svinartchouk]
* SourceDestination._getMetadata() returns {} instead of throwing. [Alexis Svinartchouk]
* Avoid re-reading source in ZipStreamSource. [Alexis Svinartchouk]

## 1.2.1 - 2019-03-04

* Exclude virtual drives [Robert Vojta]

## 1.2.0 - 2019-02-28

* Fall back to mimetype from content when extension fails. [Alexis Svinartchouk]
* Remove unused test images [Alexis Svinartchouk]

## 1.1.0 - 2019-02-27

* Throw an error when an inner source requires random reads. [Alexis Svinartchouk]

## 1.0.10 - 2019-02-26

* Fix writing on drives with >64KiB block sizes on windows [Alexis Svinartchouk]

## 1.0.9 - 2019-02-26

* Use winusb-driver-generator in a try as it may fail. [Alexis Svinartchouk]

## 1.0.8 - 2019-02-25

* Update drivelist to ^8.0.0 [Alexis Svinartchouk]

## 1.0.7 - 2019-02-14

* Update drivelist to ^7.0.1 [Alexis Svinartchouk]

## 1.0.6 - 2019-02-11

* Make http emit progress events [Theodor Gherzan]

## 1.0.5 - 2019-02-08

* Update node-raspberrypi-usbboot to ^0.1.0 [Alexis Svinartchouk]

## 1.0.4 - 2019-01-29

* Fix hash encoding [Theodor Gherzan]

## 1.0.3 - 2019-01-17

* Move lzma.ts to xz.ts to avoid confusion [Alexis Svinartchouk]

## 1.0.2 - 2019-01-16

* Don't try to get mbr logical partitions in getPartitions() [Alexis Svinartchouk]

## 1.0.1 - 2019-01-16

* Only import needed parts from bluebird [Alexis Svinartchouk]
* Rename ResinS3Source -> BalenaS3Source [Alexis Svinartchouk]
* Rename network config files resin-wifi-xx -> balena-wifi-xx [Alexis Svinartchouk]
* Resin -> balena rename [Alexis Svinartchouk]

## 1.0.0 - 2019-01-16

* Update partitioninfo to detect gpt at different offsets [Alexis Svinartchouk]

## 0.2.2 - 2019-01-11

* Use xxhash fork that fixes build with xcode 10.1 [Alexis Svinartchouk]
* Fix typo [Alexis Svinartchouk]

## 0.2.1 - 2019-01-11

* Winusb-driver-generator is optional (win32 only) [Alexis Svinartchouk]

## 0.2.0 - 2018-12-20

* Scanner.start() now returns a Promise<void> [Alexis Svinartchouk]
* Remove not needed class members from Scanner [Alexis Svinartchouk]

## 0.1.34 - 2018-12-19

* Ci: Update platforms to use new syntax [John (Jack) Brown]

## 0.1.33 - 2018-12-18

* Don't update multi write destination streams max listeners if < default [Alexis Svinartchouk]

## 0.1.32 - 2018-11-29

* Update file-disk to ^5.0.0 [Alexis Svinartchouk]

## 0.1.31 - 2018-11-28

* Add .wic as a supported image format [Alexis Svinartchouk]

## 0.1.30 - 2018-11-23

* Update(lzma-native): Update lzma-native to ^4.0.3 [Alexis Svinartchouk]
* Fix(scanner): Filter out drives with no size [Alexis Svinartchouk]

## 0.1.29 - 2018-11-21

* Fix(scanner): Filter out drives with no size [Alexis Svinartchouk]

## v0.1.28 - 2018-10-19

* Update(usbboot): Update node-raspberrypi-usbboot to 0.0.12 [Alexis Svinartchouk]

## v0.1.27 - 2018-10-18

* Update(usbboot): Update node-raspberrypi-usbboot to 0.0.10 [Alexis Svinartchouk]

## v0.1.26 - 2018-10-10

* Update(usbboot): Update node-raspberrypi-usbboot to 0.0.9 [Alexis Svinartchouk]

## v0.1.25 - 2018-10-10

* Update(usbboot): Update node-raspberrypi-usbboot to 0.0.8 [Alexis Svinartchouk]

## v0.1.24 - 2018-10-02

* Fix(usbboot): Fix usbboot devices display name [Alexis Svinartchouk]

## v0.1.23 - 2018-09-21

* Fix(resin-s3-source): Allow changing the s3 host [Alexis Svinartchouk]

## v0.1.22 - 2018-09-18

* Update(udif): Update udif to ^0.15.7 [Alexis Svinartchouk]

## v0.1.21 - 2018-09-18

* Fix(block-device): Fix BlockDevice.alignedRead() bytesRead property [Alexis Svinartchouk]

## v0.1.20 - 2018-09-18

* Update(resin-lint): Update resin-lint to ^2.0.1 [Alexis Svinartchouk]

## v0.1.19 - 2018-09-18

* Update(typescript): Update typescript to ^3.0.3 [Alexis Svinartchouk]

## v0.1.18 - 2018-09-17

* Fix(npm): Publish the typings folder [Alexis Svinartchouk]

## v0.1.17 - 2018-09-17

* Fix(http): Catch errors that may happen during a HEAD request [Alexis Svinartchouk]

## v0.1.16 - 2018-09-11

* Fix(errors): Set VerificationError.code to EVALIDATION [Alexis Svinartchouk]

## v0.1.15 - 2018-09-07

* Fix(tests): Don't unmount files in tests [Alexis Svinartchouk]

## v0.1.14 - 2018-09-07

* Blockdevice: Use aligned reads / writes on MacOS [Jonas Hermsmeier]

## v0.1.13 - 2018-09-06

* Fix(block-transform-stream): Flush last bytes [Alexis Svinartchouk]

## v0.1.12 - 2018-09-04

* Update(drivelist): Update drivelist to ^6.4.2 [Alexis Svinartchouk]

## v0.1.11 - 2018-09-03

* Fix(source-destination): Only emit progress events if needed [Alexis Svinartchouk]
* Fix(source-destination): Remove unused methods [Alexis Svinartchouk]

## v0.1.10 - 2018-09-03

* Feat(block-transform-stream): Faster writes for compressed images [Alexis Svinartchouk]
* Fix(lint): Fix linter errors [Alexis Svinartchouk]

## v0.1.9 - 2018-08-31

* Fix(package): Build before publishing [Alexis Svinartchouk]

## v0.1.8 - 2018-08-31

* Fix(package): Only publish built files [Alexis Svinartchouk]

## v0.1.7 - 2018-08-30

* Feat(gzip): Add isSizeEstimated=true in gzip images metadata [Alexis Svinartchouk]

## v0.1.6 - 2018-08-30

* Fix(block-write-stream): Fix block-write-stream tests [Alexis Svinartchouk]

## v0.1.5 - 2018-08-29

* Fix(block-write-stream): Write 1MiB blocks [Alexis Svinartchouk]

## v0.1.4 - 2018-08-29

* Fix(block-read-stream): Read 1MiB blocks instead of 64KiB blocks [Alexis Svinartchouk]

## v0.1.3 - 2018-08-28

* Update(drivelist): Update drivelist to ^6.4.1 [Alexis Svinartchouk]

## v0.1.2 - 2018-08-28

* Fix(file): Use BlockReadStream for File instances [Alexis Svinartchouk]

## v0.1.1 - 2018-08-28

* Fix(block-device): Don't unmount the drive before flashing on win32 [Alexis Svinartchouk]

* Fix(test): Don't crash if libusb is not available [Alexis Svinartchouk]
* Fix(examples): Fix the scanner example [Alexis Svinartchouk]
* Feat(progress): Report source file progress [Alexis Svinartchouk]
* Fix(progress): Fix makeClassEmitProgressEvents when start != 0 [Alexis Svinartchouk]
* Fix(lint): Add missing semicolons [Alexis Svinartchouk]
* Fix(examples): Update the spinner with the last progress event [Alexis Svinartchouk]
* Fix(lib): Fix type error with @types/bluebird@3.5.23 [Alexis Svinartchouk]
* Fix(lib): Fix getInnerSource for .DMG images [Alexis Svinartchouk]
* Chore(package): Clean build folder before building [Alexis Svinartchouk]
* Chore(package): Update readme, package, add license [Jonas Hermsmeier]
* Ci: Add .resinci.yml to control node build matrices [John (Jack) Brown]
* Fix(lib): Make block-write-stream chunk inputs [Jonas Hermsmeier]
* Chore(package): Add editorconfig [Jonas Hermsmeier]
* Refactor(constants): Reduce progress update frequency to 2 Hz [Jonas Hermsmeier]

## v0.1.0 - 2018-08-28

* Fix(ci): Install libudev-dev on ci [Alexis Svinartchouk]
* Fix(progress): Fallback to source progress on gzip streams [Alexis Svinartchouk]
* Fix(scanner): Export DriverlessDevice [Alexis Svinartchouk]
* Use the BlockDevice or File in read and write streams, not the fd [Alexis Svinartchouk]

